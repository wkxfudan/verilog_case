# 寄存器堆（同步清零）

此部分代码实现的是寄存器堆的功能。此寄存器堆有1个读端口，1个写端口，可以实时的读取寄存器内的数据，在上升沿处写入数据。

## 端口和参数

### 可调参数

N：每个寄存器的数据位宽；

W：地址位宽。每一个地址对应一个存储N位数据的寄存器。

### 端口

| 信号     | in/out | 位宽 | 描述         |
| -------- | ------ | ---- | ------------ |
| `clk`    | 输入   | 1    | 时钟信号     |
| `clr`    | 输入   | 1    | 清零控制     |
| `wr_en`  | 输入   | 1    | 写使能信号   |
| `w_addr` | 输入   | W    | 写操作地址   |
| `r_addr` | 输入   | W    | 读操作地址   |
| `w_data` | 输入   | N    | 写操作的数据 |
| `r_data` | 输出   | N    | 读出的数据   |

### 功能

寄存器堆的输出为地址r_addr对应的寄存器中存储的N位数据。在时钟沿来临时，在不清零的情况下，根据wr_en是否生效，决定是否向地址w_addr对应寄存器写入数据w_data.

| clr  | wr_en | 功能             |
| ---- | ----- | ---------------- |
| 1    | x     | 寄存器堆数据清零 |
| 0    | 1     | 在时钟沿写入数据 |
| 0    | 0     | \                |

“register_file.v”中，实现的是带有同步清零端的寄存器堆（清零端1有效），在时钟信号clk上升沿时，若采到clr=1，则寄存器存储的数据全部置0.

